<h2>1.0 Eclipse sensor overview</h2>

The Eclipse sensor has been tested with Eclipse Release 3.0 on Windows,
Linux, and Mac OS/X operating systems. Support for Eclipse Release 2.1 is
limited to the Windows platform only. This sensor provides downloads
for both the Eclipse 2.x and 3.x streams. 

<p>The Eclipse sensor currently supports the Activity, FileMetric, and 
  UnitTest, BufferTransitions Sensor Data Types:
</p>
<ul>
  <li>Activity data captures editing actions such as editing a file, opening 
      a file for editing, opening a project, and so forth (default, but not for build failures).

  <li>FileMetric data captures structural metrics on an actively edited Java
  file. Currently, the recorded metrics are similar to the
  Chidamber-Kemerer metrics. See the FileMetric SDT documentation for more
  information on the metrics collected for Java files (optional).

  <li>UnitTest data captures the results of JUnit test invocation (using the 
    standard JUnit plug-in for Eclipse). For each test, the data includes
    the collected time, test class name, test case (method) name, elapsed time, failure string (if any), and
    error string (if any) (default).</li>

  <li>Buffer Transitions captures the sequence of files visited by the user
  during development. This is an experimental analysis, not yet in production (optional).
</li>
</ul>

<p>The Eclipse sensor collects Activity and FileMetric data in following way:</p>
<ul>
  <li>A timer wakes up periodically and records the current buffer that you are 
    working in and whether it has changed since the last time the timer woke up. 
    The time interval can be configured in your sensor.properties file with the 
    HACKYSTAT_STATE_CHANGE_INTERVAL property. It defaults to 30 seconds.</li>
  <li>If the current buffer is a Java file, the most recent .class file
    associated with that Java file is parsed and a set of OO metrics are
    gathered (similar to the Chidamber-Kemerer metrics).</li>
  <li>The data accumulated by the sensor package is sent off to the server
    periodically. The interval between server notifications can be
    configured in your sensor.properties files using the
    HACKYSTAT_AUTOSEND_INTERVAL property. It defaults to 10 minutes.
    All previously unsent data is sent when you exit Eclipse.</li>
</ul>

<p>The sensor collects UnitTest data by sensing the invocation of the JUnit
plug-in by the developer, and collecting the test results from the
invocation. 
<p>

<h2>2.0 Eclipse sensor installation</h2>

<p>We recommend Eclipse 3.0 stable release, although the sensor does work with Eclipse Release 2.1
  on the Windows platform only. You can install the sensor 
  by using either the Eclipse Update Manager or by downloading a pre-packaged .zip 
  file. The advantage using the Eclipse Update Manager is that it supports
  automatic checking for updates and simplified update installation. 
  The advantage of the prepackaged .zip file is that it is simpler for one-time installation. 
  
<h3>2.1 Sensor installation using the Update Manager</h3>

These instructions are based upon the Eclipse 2.1 Update Manager. Eclipse
3.0 has a slightly different Update Manager interface.

<ol>
  <li><strong>Specify the Update URL.</strong> To do this, start Eclipse, and: 
    <ul>
      <li> Open the Install/Update Perspective by selecting "Help|Software Updates|Update 
        Manager". 
      <li> In the Feature Updates pane, right-click on the "Sites to Visit" icon 
        and select "New|Site Bookmark". 
      <li> Type "Hackystat Sensor" in the name field. 
      <li> Type <tt>http://HOSTNAME/hackystat/download/eclipse</tt>
        into the URL field, substituting your hackystat server for HOSTNAME. See the <a href="download/eclipse/BookMarkDump.jpg">bookmark 
        screen dump</a> for an illustration. 
      <li> Click the Finish button. 
    </ul>
  </li>
  <p> 
  <li><strong>Install the latest Eclipse Sensor into your Eclipse. </strong>Once 
    the Hackystat Sensor icon displays, traverse the tree to the second subordinate 
    node and click on the latest Hackystat Sensor version displayed. Click the 
    Install button on the right side of the Preview window to begin the installation. 
    See the <a href="download/eclipse/UpdateDump.jpg">screen dump</a> for an illustration. 

    <p><strong>NOTE 1: </strong>Eclipse 2.x stream users (i.e. users who have installed Eclipse until 3.0 M4 version) need to select &quot;Hackystat sensor for Eclipse 2.x stream (until 3.0 M4). Otherwise Eclipse 3.x stream users (i.e. users who have installed Eclipse 3.0 M5 or above) need to select &quot;Hackystat sensor for Eclispe 3.x stream (from 3.0 M5). <strong><br>
      <br>
    
      NOTE 2:</strong> If you are using Internet Explorer 5.0 or older, 
        you may need to update to the latest version in order to complete this step. 
        Eclipse uses the default browser in your environment to display the tree, 
        and we have discovered that old versions of IE are broken and will not let 
        you traverse the tree from the Hackystat Sensor icon. 

</ol>

<h3>2.2 Installation using the drop-in .zip file</h3>

<ol>
  <li> <strong>Download the zip file.</strong> <br>
Eclipse 2.x stream users: Download
    <a href="download/eclipse/org.hackystat.stdext.sensor_@version@.2x.zip">
      org.hackystat.stdext.sensor_@version@.2x.zip</a> into the &lt;eclipse&gt;/plugins directory.

    <br>

    Eclipse 3.x stream users: Download
  <a href="download/eclipse/org.hackystat.stdext.sensor_@version@.3x.zip"> org.hackystat.stdext.sensor_@version@.3x.zip</a> 
  into the &lt;eclipse&gt;/plugins directory.</li>

  <li> <strong>Unzip the file.</strong> 
  This should result in one of the following directories being created inside 
  the &lt;eclipse&gt;/plugins directory:<br>
  Eclipse 2.x stream: <tt>org.hackystat.stdext.sensor_@version@.2x</tt>.
  <br>
  Eclipse 3.x stream: <tt>org.hackystat.stdext.sensor_@version@.3x</tt>.</li>
  <li> <strong>Restart Eclipse.</strong> </li>
</ol>

<h2>3.0 Configure .hackystat/sensor.properties for Eclipse</h2>

<p>If you have not yet downloaded and configured the Hackystat sensor.properties file yet, please see 
  the "Tool Sensor Installation and Reference" page, available from the "help" link in 
  the navigation bar.  </p>
<div align="center"></div>

<h3>3.1 Enable Eclipse sensing</h3>
  
To activate the basic features of the Hackystat Eclipse sensor, set ENABLE_ECLIPSE_SENSOR to true:

<pre># Enable sensing.
ENABLE_ECLIPSE_SENSOR=true
</pre>

<p>Note that the property ENABLE_ECLIPSE_SENSOR is a global enabling flag. If this property is false, then 
all of the following properties are disabled regardless of their setting in the file.
Thus, please make sure that  ENABLE_ECLIPSE_SENSOR is set to true before setting these other properties. </p>


<h3>3.2 Enable status line messages</h3>
The Eclipse sensor can be configured to display a message in the Status
line whenever data is collected. This helps verify the correct installation
and operation of the sensor. To activate status line monitoring, set
ENABLE_ECLIPSE_MONITOR_SENSOR to true:

<pre># Enable status line monitoring of sensor activity.
ENABLE_ECLIPSE_MONITOR_SENSOR=true</pre>

This <a href="download/eclipse/MonitorDump.jpg">screen dump</a> shows an
example of monitor output.

<h3>3.3 Enable sensor version update checking</h3>

We release new versions of the Eclipse Hackystat sensor regularly. You can
configure the sensor to quickly check your hackystat site for a new version
each time you bring up Eclipse if you are connected to the network. If a
new release is available, a message window will appear.

<pre># Enable automatic checking for new versions on startup.
ENABLE_ECLIPSE_UPDATE_SENSOR=true

# The url for the eclipse update manager to be used if update sensor is true.
# Change this to point to your own hackystat server if necessary.
ECLIPSE_UPDATE_URL=http://hackystat.ics.hawaii.edu/hackystat/download/eclipse/site.xml</pre>

<h3>3.4 Enable buffer transition data collection</h3>

One type of analysis under experimental development involves collection of
the transitions users make between different buffers during development. If
you are interested in this kind of data collection, you must enable it by
setting ENABLE_ECLIPSE_BUFFTRANS_SENSOR to true:

<pre># Enable buffer transition sensor.
ENABLE_ECLIPSE_BUFFTRANS_SENSOR=true</pre>

You can also configure how frequently the sensor "wakes up" to see if a new
buffer is being visited:

<pre># The interval in seconds between buffer transition checks for Eclipse.
HACKYSTAT_BUFFTRANS_INTERVAL=2
</pre>

<h3>3.5 Enable file metric  data collection</h3>
Eclipse sensor can collect structural metrics on an actively edited Java
  file. Currently, the recorded metrics are similar to the
  Chidamber-Kemerer metrics. See the FileMetric SDT documentation for more
  information on the metrics collected for Java files.

   If you are interested in this kind of data collection, you must enable it by setting ENABLE_ECLIPSE_FILEMETRIC_SENSOR to true:
<pre># Enable buffer transition sensor.
ENABLE_ECLIPSE_FILEMETRIC_SENSOR=true</pre>
<h3>3.6 Enable build data collection</h3>
Eclipse sensor can collect  the build failures caused by Eclipse build. If you are interested in this kind of data collection, you must enable it by setting ENABLE_ECLIPSE_BUILD_SENSOR to true:
<pre># Enable buffer transition sensor.
ENABLE_ECLIPSE_BUILD_SENSOR=true</pre>
<h2>4.0 How to verify that the Eclipse sensor is working</h2>

The easiest way to verify that the Eclipse sensor is working properly is 
by setting ENABLE_ECLIPSE_MONITOR_SENSOR to true.  Within a few seconds
after you begin editing files in Eclipse, you should start seeing messages 
in the status window at the bottom of the IDE pane. If you do not
see these messages, then the next step is to check the following:

<ul>
  <li>Select 'Window | Show View | Other..&quot;, and then choose &quot;Plug-in 
    Registry&quot; in the PDE Runtime folder to open up the Plug-in Registry view. 

  <li>Find &quot;Hackystat Sensor 5.x.x&quot;. If you find it, then this verifies 
    that the Eclipse sensor is installed into Eclipse.</li>

  <li>Go to &quot;.hackystat/logs&quot; directory of your home directory (In Windows 
    2000 and XP series, C:\Documents and Settings\ as a default), and find &quot;eclipse.0.logs&quot;. 
    In the files, if you find log information similar to the following, then this 
    verifies that the Eclipse sensor is activated correctly.</li>
  <pre>Hackystat Version: 4.1.703 (July 3 2003 09:04:48)<br>SensorShell started at: 07/03/2003 11:31:33
Type 'help' for a list of commands.
Host: http://hackystat.ics.hawaii.edu/ is available and key is valid.
Defined SDT:     Activity
Defined SDT:     BadData (no shell command)
Defined SDT:     BuffTrans
Defined SDT:     Coverage
Defined SDT:     FileMetric
Defined SDT:     UnitTest
Defined shell command: Activity
Defined shell command: Coverage
Defined shell command: UnitTest
Defined shell command: BuffTrans
Defined shell command: FileMetric
#> AutoSend [10]
AutoSend OK (set to 10 minutes)
AutoSend enabled every 10 minutes.
Checking for offline data to recover.
No offline data found.
#> Activity [setTool, Eclipse]
setTool OK</pre>
  <li> The final step is to exit Eclipse (which forces all data to be sent to 
    the Hackystat server), then go to your Hackystat home page, and check to see 
    that data has shown up from Eclipse. This verifies that data is being collected 
    and sent from your client machine to the server successfully. 
</ul>


<h2>5.0 Eclipse sensor installation troubleshooting</h2>
If your installation does not appear to be working, a good way to obtain some 
diagnostic data is to run Eclipse from the command line in verbose mode. This 
will print out information as each Plugins (including the Hackystat Eclipse sensor) 
is loaded. To run Eclipse in this fashion, change directory to the Eclipse installation 
directory and type: 
<pre>
eclipse -vm C:\j2sdk1.4.0_01\bin\java
</pre>
Near the bottom of the many lines of output that will result, you should see some lines
similar to the following:
<pre>
ServerProperties:       catalina_home missing, using c:\jakarta-tomcat-4.0.1
Hackystat: Log level set to: INFO
01/18 16:42:46 Command definition warning: unknown doc file: doc.sdt.junit.html
01/18 16:42:46 Command definition warning: unknown doc file: doc.sdt.activity.html
01/18 16:42:46 Command definition warning: unknown doc file: doc.sdt.baddata.html
01/18 16:42:46 Command definition warning: unknown doc file: doc.sdt.filemetric.html
</pre>
You can safely ignore the warnings regarding catalina_home and the unknown doc 
files.

<h2>5.0 Eclipse sensor uninstallation</h2>

<p>

To turn off Eclipse Hackystat data collection temporarily, you can either
  set ENABLE_ECLIPSE_SENSOR to false in the sensor.properties file, or 
disable the plugin using the Plugin Manager. 

<p>For permanent uninstallation, delete the &quot;org.hackystat.stdext.sensor_&lt;version&gt;.jar&quot; 
  subdirectory of both &lt;ECLIPSE_HOME&gt;/plugins and &lt;ECLIPSE_HOME&gt;/features 
  directories after exiting Eclipse.</p>
</p>






